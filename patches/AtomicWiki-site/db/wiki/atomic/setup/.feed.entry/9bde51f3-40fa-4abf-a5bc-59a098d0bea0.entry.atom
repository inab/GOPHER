<?xml version="1.0" encoding="UTF-8"?><atom:entry xmlns:atom="http://www.w3.org/2005/Atom"><atom:id>urn:uuid:9bde51f3-40fa-4abf-a5bc-59a098d0bea0</atom:id><atom:updated>2009-04-21T00:22:07+02:00</atom:updated><atom:published>2009-04-21T00:17:37+02:00</atom:published><link xmlns="http://www.w3.org/2005/Atom" href="?id=urn:uuid:9bde51f3-40fa-4abf-a5bc-59a098d0bea0" rel="edit" type="application/atom+xml"/><title xmlns="http://www.w3.org/2005/Atom" type="text">Upgrading from earlier versions</title><wiki:id xmlns:wiki="http://exist-db.org/xquery/wiki">EarlierVersions</wiki:id><content xmlns="http://www.w3.org/2005/Atom" type="xhtml"><html:div xmlns:html="http://www.w3.org/1999/xhtml"><html:h2>Backup/Restore</html:h2><html:p>When upgrading from earlier versions of AtomicWiki and/or eXist, make sure you always create a <html:span class="strong">backup of your data</html:span> first. This is done via the standard <html:a href="http://www.exist-db.org/backup.html|backup/restore tools">http://www.exist-db.org/backup.html|backup/restore tools</html:a> that ship with eXist. When launching the eXist admin client, replace the server URL with</html:p><html:pre>xmldb:exist://localhost:8000/xmlrpc</html:pre><html:p>or the corresponding port and context of your AtomicWiki installation (you always need to add the /xmlrpc).</html:p><html:p>If you need to restore from a backup into an existing AtomicWiki install, make sure to remove the old data first by deleting the contents of the <html:code>webapp/WEB-INF/data</html:code> directory.</html:p><html:h2>Automatic Restore</html:h2><html:p>We prepared an Ant task to make restoring/upgrading easier. The task will restore a specified backup archive, then run an automatic migration process to upgrade old data. This is important as the database layout may have changed between AtomicWiki versions. There have been a few modifications recently. It is thus possible that your restored data does no longer match the expectations of the protocol implementation or AtomicWiki's internal organization. The restore task handles this. To run it, call</html:p><wiki:macro xmlns:wiki="http://exist-db.org/xquery/wiki" name="code">
build.sh -Dbackup.zip restore
</wiki:macro><html:p>where <html:code>backup.zip</html:code> points to the backup archive you want to restore.</html:p><html:p>If you ever want to manually launch the migration process, just launch</html:p><wiki:macro xmlns:wiki="http://exist-db.org/xquery/wiki" name="code">
build.sh migrate
</wiki:macro><html:p>The task will not cause any damage if your database is already up to date.</html:p></html:div></content><author xmlns="http://www.w3.org/2005/Atom"><name>editor</name></author></atom:entry>